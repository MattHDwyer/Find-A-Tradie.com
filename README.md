README - Find-A-Tradie.com
About Find-A-Tradie.com:
Find-A-Tradie.com is a search engine platform built to assist users in finding a tradesmam to complete the necessary works. Whilst this is inspired from sites such as Yellow Pages, the unique take on this site is that it's aim is to be heavily manipulated around the user reviews. This way encouraging users to search for and find the top rated tradies in their area.
Tech Stack:
•	Front-end: HTML, ERB, CSS, SASS, Javascript
•	Backend: Ruby, Ruby on Rails
•	Database: POSTGRESQL Database with ActiveRecord
•	Deployment: Heroku
Configuration / Installation Instructions:
1.	Within your computer terminal, navigate the directory to where you want to install the application files and run 'git clone git@github.com:MattHDwyer/Find-A-Tradie.com.git'
2.	Run 'bundle install' to install the dependencies
3.	Run 'rails db:create' to create the database (Warning you must have POSTGRESQL installed!)
4.	Run 'rails db:migrate' to migrate the database
5.	Run 'rails s' to run the server in development mode
6.	In your web browser navigate to 'http://localhost:3000/' to view the site
7.	You may now use the site or Sign Up
Features:
•	Search function for a certain Trade near your address
•	Secure Login, User Authentication and Authorisation
•	User profiles
•	Review of Business Profiles
•	Profile photo upload with AWS image Storage
•	Profile Membership upgrade with Stripe
Site map:



You must complete both the Technical (Section 2.1) and Short Answer (Section 2.2) requirements specified below
1. What is the need (i.e. challenge) that you will be addressing in your project?
The challenge that we looked to address in this project was helping people find good local tradesmen. 
In Australian market, there are three types of websites serving this group of people in general.
Yellow Pages like Websites:  Yellow pages, True locals, or White pages.
Quotes seeking Website Websites:  Hipages, Oneflares, Seekingservice.
P2P quotes seeking site:  Airtaskers.
Drawbacks of these site:
a.	Most of them are heavily quote oriented. This means an average user needs to give away too many personal/job details in order to be able to see a business list generated by system (Airtasker, seekingservice, hipages etc) and can easily get confused and lose the patience of using that site.

b.	The filtering/sort function of the business directory (index) page is not user friendly. For example, in Yellow Pages, You can do sort by relevance, distance but not the rating/reviews. In Seekservice, you can filter or sort ratings/review number but you cannot filter by distance.
We aim to create a more user-friendly yellow pages type site from which a person can quickly retrieve a list of tradies. In that list, a person can see the how far that business is from his place, the contact information about that business, and the photos of the past projects from that business and how other people say about the quality of its service. All of these details will be useful for a user to make a decision on choosing the right tradie.
On the other hand, a tradie business owner can publish the business profile in our site by paying a small amount of money. He can promote the public profile by carefully managing the business descriptions and project photos and replying promptly and his customer’s ratings and comment on his business.
b. app development/coding challenge
Create dynamic search bar hint
One of the key feature of the app is to allow user to search tradie within a specified post code area.
To assist the search, dynamic search hints are provided after the user enter the information. (The app will look for the business name, trade type, and business description and return information based what a user input). This requires us to study and use a little bit of javascript.
Location-based search
As mentioned above, to search for a tradie within an area specified by the user. Our code needs to:
•	store evaluate the trade's location
•	store evaluate the searcher's location
•	return a result that satisfy the criteria set up by the people who use the search function
This requires us to study and understand
a. the logic behind any location based serach function
b. and to use gem 'geolocation' and Google API.
Allow user to do crud operation on his/her profile/pages
Like most web app, an anthorised User can perform CRUD operation on different pages.
In our case, a tradie can create, edit and delete his business profiles and manage the listing in his dashboard. Besides, he can add/manage business logo and project photos in specific profile and reply to any comment, an external view leave to his profile.
A user can view the business profile and leave the comment.
These CRUD operation can be done as designed require us carefully manages the instance variables and related params across the different pages is somehow chanllenging. And the whole process is complicated by the fact that we use scaffold genereated form partial in many cases.

2.	Identify the problem you’re trying to solve by building this particular marketplace App? Why is it a problem that needs solving?
As mentioned above, current sites suffer from two problems:
i.	It asks for too much information input before a user can see any relavant information from a business directory/list.

ii.	Even after the business directory/list is shown, the most relevant information such as distance and average ratings is not generally an sorting/filter option and this prevents a user making most informed decision.

The problems shall be addressed in a better way to improve the information relevance and let user feel more satisfied using any directory type of website. This will also benefit any tradie who uses our site to publish their business profile as a light-weight user-friendly site can attract more customer and bring the tradie more businesses.

It is also worth to mention that there's a small issue in Australia of tradesmen overpricing for their work and for the results to be terrible. Our focus on enabling a customer to add reviews can inspire the competitiveness in the industry and increases the standard of work completed.
This is a problem that needs solving, because you can't be having people spending thousands and thousands of dollars on work around their house/business and being ripped off by people that are just out here to earn a quick buck. We want tradesmen to be held accountable for their work, as well as making sure the Australian people get good value for their money.
3. Describe the project will you be conducting and how. your App will address the needs
We've created a search engine for users, so that they can find local tradesmen in their area. Users will input the type of trade they're looking for (which is provided by the site, they can only look for trades that are already provided) and also their location. 
The home page of the site will send the users straight to the search function. There will also be options for tradesmen to create an account and to sign up to the site, so that they can post their business.
4. Describe the network infrastructure the App may be based on.
The site will be deployed onto Heroku. Heroku links with GitHub and passes the necessary code to be able to deploy the site. Heroku is a free service that allows users to store their code on a server so that when a user initiates a HTTP 'Get' Request for their site, the HTTP Response is the code that the developer has created.
Heroku is a cloud platform as a service supporting many popular language including ruby. Each app run on Heroku has its own unique domain. Each of the application container is called dynos and it is spread across a "dyno grid" which consists of several servers. Heroku's Git server handles application repository pushes from permitted users.[18][19]
The infrastructure underpinning Heroku is Amazon cloud service.

5. Identify and describe the software to be used in your App.
Frameworks: * Ruby on Rails: A web-application framework written in ruby in conjunction with rails to create full-stack web applications. Ruby on Rails is a MVC (Model, View, Controller) framework that emphasises convention over configuration. Rails assists with the automation of time consuming code, when creating such things as routes, controllers, views and database migrations.
Databases:
•	Postgres: A Relational Databse management system
•	Active Record: An ORM or Object Relational Mapping tool, which provides an interface between the tables in a relational database.
Version Control:
•	GitHub: GitHub is a source control tool which is allows for either solo or group projects to be developed.
Deployment:
•	Heroku: Allows you to deploy web applications. It allows you to push directly from Gitub in a variety of different languages.
Photo Storage:
•	AWS S3: Allows us to stor  
6. Identify the database to be used in your App and provide a justification for your choice.
We've decided to use a POSTGRESQL database for our site. The reason for this decision was because the deployment site that we're using (heroku) works best with POSTGRESQL databse sites. 
In addition, PostgreSQL is generally regarded as the best open-source free database software in 2019 when this app is developed.
7. Identify and describe the production database setup (i.e. postgres instance).
When we "rails new"'d for the first time, we added "-d postgresql". This created a local instance of a POSTGRESQL database. We then in the terminal, created the database with the code "rails db:create". After creating the database we were then able to run migrations through the database to create the tables by using "rails db:migrate". We were also able to seed data into the site, by hard coding values for our tables into the seeds.rb file then running "rails db:seed" in the terminal.
8.	Describe the architecture of your App.
We use 
9. Explain the different high-level components (abstractions) in your App.
The foundation of this app is built upon a “model-view-controller” framework (just like any rails app). Models are those related SQL tables storing the information about the users, trades category, and users. The backend ruby codes are called controllers and their function is to retrieve, manipulate, and update the associated SQL tables (database) based on the user input. On the other hand, user interact with these controllers through a series of interface pages which are mainly coded using html and css codes. These interface pages are called view pages.


App is deployed in the website Heroku. The web framework we use is Rails 5.2.3. Front End Language we use is : HTML with embedded Ruby. A little bit of javascript. Styling language: Pure CSS and CSS Library bootscrap. A payment system: Stripe
10. Detail any third party services that your App will use.
The main ones are listed as below:
* AWS for storing the photos 
* Stripe to manage the payment windows 
* GeoCoder Gem: Utilises the Google Map/Earth API to provide the address/location information (to make the GeoCoder work, an internet connection is required)
Full list of Gems/Dependencies:
•	ruby "2.5.2"
•	gem "rails", "~> 5.2.3"
•	gem "pg", ">= 0.18", "< 2.0"
•	gem "puma", "~> 3.11"
•	gem "sass-rails", "~> 5.0"
•	gem "uglifier", ">= 1.3.0"
•	gem "coffee-rails", "~> 4.2"
•	gem "turbolinks", "~> 5"
•	gem "jbuilder", "~> 2.5"
•	gem "devise"
•	gem "pundit"
•	gem "geocoder"
•	gem "bootsnap", ">= 1.1.0", require: false
•	gem 'stripe'
•	gem "byebug", platforms: [:mri, :mingw, :x64_mingw]
•	gem "web-console", ">= 3.3.0"
•	gem "listen", ">= 3.0.5", "< 3.2"
•	gem "spring"
•	gem "spring-watcher-listen", "~> 2.0.0"
•	gem "capybara", ">= 2.15"
•	gem "selenium-webdriver"
•	gem "chromedriver-helper"
•	gem "tzinfo-data", platforms: [:mingw, :mswin, :x64_mingw, :jruby]
•	gem "jquery-rails"
•	gem "bootstrap", "~>4.0.0"
•	gem "font-awesome-rails"
•	gem "select2-rails"
•	gem "ausburbs"
11. Describe (in general terms) the data structure of marketplace apps that are similar to your own (e.g. eBay, Airbnb).
Essentially, our purpose is to have a more user friendly version of yellow pages that focuses on the tradesmen industry. Therefore, site like Yellow Pages or Yelps will be definitely similar but much more complex than our site. Our site aims to be more simplistic than these sites and aims to have more of a user feedback than these sites may have.
12. Discuss the database relations to be implemented.
 
As our website is essentially an online business directory, most of the crud operations directly interact with the business profile. Therefore, Business profile table has most associations with other tables. Among those associations, the four most important ones are with Contacts, Trades, Ratings and Memberships. Contact table contains the address information for a profile and this address needs to be filled out in order for location-based search function to work. A business profile has a many-to-many relationship between trades because we consider a business may set its foots in different industries.
Allowing a business profile to have many ratings means we let an user post many reviews and comments on one tradie.
It is also worth mentioning the relationship between an user and business profiles is one-to-many and in our app, we have a dashboard to let a user to manage multiple business profiles attached to his account.

13. Describe your project’s models in terms of the relationships (active record associations) they have with each other.
We used the following active Record associations:
•	Business Profile Trade:
o	belongs_to :business_profile
o	belongs_to :trade
•	Busines Profile:
o	belongs_to :user
o	has_one :contact, dependent: :destroy
o	has_many :business_profile_trades, dependent: :destroy
o	has_many :trades, through: :business_profile_trades
o	has_many :ratings, dependent: :destroy
o	has_many_attached :images
o	has_one_attached :logo_image
o	has_one :membership, dependent: :destroy
•	Contact:
o	belongs_to :business_profile
•	Membership:
o	belongs_to :business_profile
•	Rating:
o	belongs_to :business_profile
•	Role:
o	has_many :users
•	Trade:
o	has_many :business_profile_trades, dependent: :destroy
o	has_many :business_profiles, through: :business_profile_trades
•	User:
o	belongs_to :role
o	has_many :business_profiles
o	has_many :contacts
14. Provide your database schema design.
create_table "active_storage_attachments", force: :cascade do |t|
    t.string "name", null: false
    t.string "record_type", null: false
    t.bigint "record_id", null: false
    t.bigint "blob_id", null: false
    t.datetime "created_at", null: false
    t.index ["blob_id"], name: "index_active_storage_attachments_on_blob_id"
    t.index ["record_type", "record_id", "name", "blob_id"], name: "index_active_storage_attachments_uniqueness", unique: true
  end

  create_table "active_storage_blobs", force: :cascade do |t|
    t.string "key", null: false
    t.string "filename", null: false
    t.string "content_type"
    t.text "metadata"
    t.bigint "byte_size", null: false
    t.string "checksum", null: false
    t.datetime "created_at", null: false
    t.index ["key"], name: "index_active_storage_blobs_on_key", unique: true
  end

  create_table "business_profile_trades", force: :cascade do |t|
    t.bigint "business_profile_id"
    t.bigint "trade_id"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.index ["business_profile_id"], name: "index_business_profile_trades_on_business_profile_id"
    t.index ["trade_id"], name: "index_business_profile_trades_on_trade_id"
  end

  create_table "business_profiles", force: :cascade do |t|
    t.text "business_profile_description"
    t.string "australian_business_number"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.bigint "user_id"
    t.string "business_name"
    t.index ["user_id"], name: "index_business_profiles_on_user_id"
  end

  create_table "contacts", force: :cascade do |t|
    t.string "email"
    t.string "mobile_number"
    t.string "landline_number"
    t.string "full_address"
    t.float "latitude"
    t.float "longitude"
    t.bigint "business_profile_id"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.index ["business_profile_id"], name: "index_contacts_on_business_profile_id"
  end

  create_table "memberships", force: :cascade do |t|
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.date "start_date"
    t.date "end_date"
    t.bigint "business_profile_id"
    t.index ["business_profile_id"], name: "index_memberships_on_business_profile_id"
  end

  create_table "ratings", force: :cascade do |t|
    t.bigint "business_profile_id"
    t.string "user_name"
    t.integer "star_rating"
    t.text "comment"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.index ["business_profile_id"], name: "index_ratings_on_business_profile_id"
  end

  create_table "roles", force: :cascade do |t|
    t.string "privilege"
    t.string "role_description"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
  end

  create_table "trades", force: :cascade do |t|
    t.string "trade_name"
    t.text "trade_description"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
  end

  create_table "users", force: :cascade do |t|
    t.string "email", default: "", null: false
    t.string "encrypted_password", default: "", null: false
    t.string "reset_password_token"
    t.datetime "reset_password_sent_at"
    t.datetime "remember_created_at"
    t.bigint "role_id"
    t.string "first_name"
    t.string "last_name"
    t.string "date_of_birth"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.index ["email"], name: "index_users_on_email", unique: true
    t.index ["reset_password_token"], name: "index_users_on_reset_password_token", unique: true
    t.index ["role_id"], name: "index_users_on_role_id"
  end

  add_foreign_key "active_storage_attachments", "active_storage_blobs", column: "blob_id"
  add_foreign_key "business_profile_trades", "business_profiles"
  add_foreign_key "business_profile_trades", "trades"
  add_foreign_key "business_profiles", "users"
  add_foreign_key "contacts", "business_profiles"
  add_foreign_key "memberships", "business_profiles"
  add_foreign_key "ratings", "business_profiles"
end

15. Provide User stories for your App.
A visitor wants to look for a plumber to fix leakage problem of his sink tap. He comes to our site and enter his home location and quickly do a search. He finds a list of 100 plumbers within 50 kms of his home. He sorts the lists based on the average rating of the business and finds the photos of that plumber's past projects. He carefully reads the comments left by other customer sof that tradie. After he feels confident, he calls that tradie, arrange a job to him.
A tradie wants to advertise his own business on internet. He just wants to use a cheap and no frill website to publish his business profile. He is happy to pay a small amount of money to list his profile for a period of one month, three month or a year.
In his profile, he wants to add descriptions and photos to his business. He also likes to see customer's feedback on his business and willing to give response to the customer's comments.
16. Provide Wireframes for your App.
  
17. Describe the way tasks are allocated and tracked in your project.
The whole development process takes 10 days.
Discussing the project idea takes one and half day. Wireframe design/user flow design is completed in day 3. Visual design is completed in day 4.
The whole development process takes 5 days. In developing the app. We always have two people doing the actual coding and leave one person to explore how to achieve the function we want to incorporate into our code. On next working day, the one who did the research needs to report and share his finding with other team member.

We manage our tasks with starts on morning discussion lists the target we have in the trello board.
Each night, the code is pushed into the github and a second person will merge his code into the github master file.
18. Discuss how Agile methodology is being implemented in your project.
Function development:
Development starts when the framework is done. Before we start to fine tune the details of design, most of the view pages have been already finished based on the wireframe of the prelimary design. 
During the development process we continually explore the possibly of incorporating the new features as long as we can make it work instead of making it perfect. 
Teamwork:
Team target and individual’s working objective is set every morning and communicated clearly to other members. Members generally are open about the issues they are facing with and meanwhile, actively offer and seek helps to/from other members. At the end of each day and weeks, each member reports his own working progress and the team and individual to-do lists is updated to reflect changing task priority frequently.

19. Provide an overview and description of your Source control process.
TBD
20. Provide an overview and description of your Testing process.
TBD
21. Discuss and analyse requirements related to information system security.
TBD
22. Discuss methods you will use to protect information and data.
In our app, most of the crud operations happens in relation to business profile. 
use strong params for almost every data input. use pundit gem to set up the policy.
23. Research what your legal obligations are in relation to handling user data.
With the consistent threat of hackers and cyber threats, we have to take the Privacy Laws involving the legal obligations that regulate the collection, storing and provision of access and managemetn of personal information on all individuals very seriously. Whilst handling user data, the legal obligations are that we have to consider the threats that are out there that could compromise user data. We are obligated to protect the individual's files and the systems with authorisation and authentication. We've achieved this in our site through the use of the gem devise and pundit. 
We should also be looking at ways to make sure that our virus protection is up to date on our serverside. 
In addition, it is also important to develop a back up plan or a disaster recovery plan to ensure data recoverability in case of emergencies. This can be done by creating backups of multiple copies in secured multiple locations.
